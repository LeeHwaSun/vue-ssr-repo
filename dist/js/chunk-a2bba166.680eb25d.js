(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a2bba166"],{7714:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isClient?a("div",[t._t("default")],2):a("div",{staticClass:"d-none"},[t._t("server")],2)},n=[],o={name:"SsrRenderer",data:function(){return{isClient:!1}},mounted:function(){this.isClient=!0}},i=o,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);e["a"]=c.exports},bddc:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[t.item?a("v-card",{attrs:{flat:""}},[a("v-card-title",[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v(t._s(t.item.wr_title))]),a("v-spacer"),a("v-subheader",{staticClass:"text-no-wrap"},[a("v-icon",{staticClass:"mx-2",attrs:{small:""}},[t._v("mdi-account")]),t._v(" "+t._s(t.item.wr_name)+" "),a("v-icon",{staticClass:"mx-2",attrs:{small:""}},[t._v("mdi-clock-outline")]),a("i",[a("display-time",{attrs:{time:t.item.wr_create_at}})],1),a("v-icon",{staticClass:"mx-2",attrs:{small:""}},[t._v("mdi-eye")]),t._v(" "+t._s(t.item.wr_view)+" ")],1)],1)],1),a("v-card-text",[a("ssr-renderer",{scopedSlots:t._u([{key:"server",fn:function(){return[a("div",{domProps:{innerHTML:t._s(t.item.wr_content)}})]},proxy:!0}],null,!1,3945286292)},[[a("ez-tiptap",{attrs:{editable:!1},model:{value:t.item.wr_content,callback:function(e){t.$set(t.item,"wr_content",e)},expression:"item.wr_content"}})]],2)],1),a("v-card-text",[a("tag-view",{attrs:{tags:t.item.wrTags}})],1),a("v-card-text",[a("display-good",{staticClass:"d-flex justify-center",attrs:{table:t.table,item:t.item,icon:{good:"mdi-thumb-up",bad:"mdi-thumb-down"},label:{good:"LIKE",bad:"UNLIKE"}}})],1),a("v-card-text",[a("file-download",{attrs:{table:t.table,item:t.item,access:t.access}})],1),a("v-card-actions",[a("v-col",{staticClass:"text-no-wrap",attrs:{cols:"4"}},["MODIFY"==t.isModify?a("board-button",{attrs:{color:"info",to:"/board/"+t.table+"/"+t.item.wr_id+"?act=write",label:"수정",icon:"mdi-pencil"}}):t._e(),"MODIFY"==t.isModify?a("board-button",{staticClass:"ml-2",attrs:{color:"error",label:"삭제",icon:"mdi-delete",loading:t.deleteLoading},on:{click:t.deleteItem}}):t._e()],1),a("v-col",{staticClass:"text-center text-no-wrap",attrs:{cols:"4"}},[a("board-button",{attrs:{to:"/board/"+t.table,color:"accent",label:"목록",icon:"mdi-menu"}})],1),a("v-col",{staticClass:"text-right text-no-wrap",attrs:{cols:"4"}},[t.access.reply?a("board-button",{attrs:{color:"secondary",to:"/board/"+t.table+"/"+t.item.wr_id+"?act=reply",label:"답글쓰기",icon:"mdi-subdirectory-arrow-right"}}):t._e(),t.access.write?a("board-button",{staticClass:"ml-2",attrs:{color:"primary",to:"/board/"+t.table+"?act=write",label:"글쓰기",icon:"mdi-pencil"}}):t._e()],1)],1)],1):t._e()],1)},n=[],o=a("1da1"),i=a("5530"),s=(a("96cf"),a("a9e3"),a("99af"),a("2f62")),c=a("bb5e"),l=a("7714"),d=a("caa8"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-chip-group",t._l(t.tags,(function(e){return a("v-chip",{key:e,attrs:{label:""}},[t._v(t._s(e))])})),1)},b=[],m={name:"TagView",props:{tags:{type:Array,default:[]}}},f=m,_=a("2877"),p=Object(_["a"])(f,u,b,!1,null,null,null),v=p.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.wrFiles,(function(e){return a("v-btn",{key:e.brd_file_id,staticClass:"mt-1 text-none",attrs:{block:"",disabled:!t.access.download,href:"/api/board/download/"+t.table+"/"+e.brd_file_name+"?src=111111"+e.brd_file_src,target:"_blank"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-download")]),t._v(" "+t._s(e.brd_file_name)+" "),a("v-spacer"),t._v(" "+t._s(t.fileSize(e.brd_file_size))+" ")],1)})),1)},h=[],w=a("64f2"),x={name:"FileDownload",props:["table","item","access"],computed:{wrFiles:function(){return this.item.wrFiles||[]},fileSize:function(){return w["fileSize"]}}},y=x,O=Object(_["a"])(y,g,h,!1,null,null,null),k=O.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",t._b({attrs:{small:t.breakPointXS},on:{click:function(e){return t.$emit("click")}}},"v-btn",t.$attrs,!1),[a("v-icon",{attrs:{left:!t.breakPointXS}},[t._v(t._s(t.icon))]),t.breakPointXS?t._e():a("div",[t._v(t._s(t.label))])],1)},C=[],$={name:"BoardButton",props:{label:{type:String,default:""},icon:{type:String,default:""}},computed:{breakPointXS:function(){return this.$vuetify.breakpoint.xs}}},S=$,D=Object(_["a"])(S,j,C,!1,null,null,null),E=D.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._b({},"div",t.$attrs,!1),[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mr-2",attrs:{color:t.goodColor},on:{click:function(e){return t.goodUpdate(1)}}},"v-btn",Object.assign({},n,t.btnProps),!1),r),[a("v-icon",{attrs:{left:""}},[t._v(t._s(t.icon.good))]),t._v(" "+t._s(t.good)+" ")],1)]}}])},[a("span",[t._v(t._s(t.label.good))])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ml-2",attrs:{color:t.badColor},on:{click:function(e){return t.goodUpdate(2)}}},"v-btn",Object.assign({},n,t.btnProps),!1),r),[a("v-icon",{attrs:{left:""}},[t._v(t._s(t.icon.bad))]),t._v(" "+t._s(t.bad)+" ")],1)]}}])},[a("span",[t._v(t._s(t.label.bad))])])],1)},L=[],T={name:"DisplayGood",props:{item:{type:Object,required:!0},table:{type:String,required:!0},btnProps:{type:Object,default:null},icon:{type:Object,default:{good:"mdi-heart-outline",bad:"mdi-heart-broken-outline"}},label:{type:Object,default:{good:"좋아요",bad:"싫어요"}}},data:function(){return{goodFlag:this.item.goodFlag,good:this.item.good,bad:this.item.bad}},computed:Object(i["a"])(Object(i["a"])({},Object(s["e"])("user",["user"])),{},{goodColor:function(){return 1==this.goodFlag?"primary":""},badColor:function(){return 2==this.goodFlag?"error":""}}),methods:{goodUpdate:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.user){a.next=3;break}return e.$toast.error("회원만 사용 할 수 있습니다."),a.abrupt("return");case 3:if(t!=e.goodFlag){a.next=9;break}return a.next=6,e.$axios.delete("/api/good/".concat(e.table,"/").concat(e.item.wr_id));case 6:r=a.sent,a.next=12;break;case 9:return a.next=11,e.$axios.post("/api/good/".concat(e.table,"/").concat(e.item.wr_id),{brd_good_flag:t});case 11:r=a.sent;case 12:r&&(e.goodFlag=r.goodFlag,e.good=r.good,e.bad=r.bad);case 13:case"end":return a.stop()}}),a)})))()}}},R=T,P=Object(_["a"])(R,F,L,!1,null,null,null),I=P.exports,M={components:{SsrRenderer:l["a"],DisplayTime:d["a"],TagView:v,FileDownload:k,BoardButton:E,DisplayGood:I},name:"BasicDetail",props:{config:Object,access:Object,id:[String,Number]},data:function(){return{deleteLoading:!1}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["e"])({user:function(t){return t.user.user},item:function(t){return t.board.detail}})),Object(s["c"])("user",["GRANT"])),{},{table:function(){return this.config.brd_table},isModify:function(){if(this.user){if(this.user.user_id==this.item.user_id||this.GRANT>=c["LV"].SUPER)return"MODIFY"}else if(0==this.item.user_id)return"NO_MEMBER";return""}}),watch:{id:function(){this.fetchData()}},serverPrefetch:function(){return this.fetchData()},mounted:function(){this.item||this.fetchData(),console.log(this.$vuetify)},destroyed:function(){this.SET_DETAIL(null)},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["d"])("board",["SET_DETAIL"])),Object(s["b"])("board",["getBoardDetail"])),{},{fetchData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={},t.$ssrContext&&(a.token=t.$ssrContext.token),e.next=4,t.getBoardDetail({table:t.table,id:t.id,headers:a});case 4:case"end":return e.stop()}}),e)})))()},deleteItem:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.deleteLoading=!0,a.next=3,e.$myNotify.confirm("게시물을 삭제하시겠습니까?","게시물 삭제",{icon:"mdi-alert"});case 3:if(r=a.sent,!r){a.next=8;break}return a.next=7,e.$axios.delete("/api/board/".concat(e.table,"/").concat(e.item.wr_id,"?token=").concat(t));case 7:a.sent;case 8:e.deleteLoading=!1;case 9:case"end":return a.stop()}}),a)})))()}})},B=M,N=Object(_["a"])(B,r,n,!1,null,null,null);e["default"]=N.exports},caa8:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("span",t._g(t._b({},"span",n,!1),r),[t._v(" "+t._s(t.display)+" ")])]}}])},[t._v(" "+t._s(t.formatTime)+" ")])},n=[],o={name:"DisplayTime",props:{time:{type:String,required:!0}},computed:{formatTime:function(){return this.$moment(this.time).format("LLL")},display:function(){var t=this.$moment(this.time),e=this.$moment(),a=e.diff(t,"days");return a>0?t.format("LL"):t.fromNow()}}},i=o,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-a2bba166.680eb25d.js.map