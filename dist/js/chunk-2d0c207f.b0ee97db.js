(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c207f"],{4926:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e._self._c;return e.user?t("div",[t("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("v-textarea",{ref:"textarea",attrs:{outlined:"",label:e.label,rules:[e.rules.required({label:e.label})],rows:"2","auto-grow":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.save.apply(null,arguments):null},blur:e.resetValid},scopedSlots:e._u([{key:"append-outer",fn:function(){return[e.item||e.wr_parent?t("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$emit("onClose")}}},[t("v-icon",[e._v("mdi-close")])],1):e._e(),t("v-btn",{attrs:{icon:""},on:{click:e.save}},[t("v-icon",[e._v("mdi-pencil")])],1)]},proxy:!0}],null,!1,575172357),model:{value:e.form.wr_content,callback:function(t){e.$set(e.form,"wr_content","string"===typeof t?t.trim():t)},expression:"form.wr_content"}})],1)],1):t("div",[e._v(" 로그인 후 댓글을 작성할 수 있습니다. "),t("v-btn",{attrs:{to:"/login?nextUrl="+e.$route.fullPath}},[e._v("로그인")])],1)},s=[],n=r("2f62"),a=r("64f2"),l=r("248f"),o=r.n(l),u={name:"CommentForm",props:{table:{type:String,required:!0},wr_reply:{type:Number,required:!0},wr_parent:{type:Number,default:0},item:{type:Object,default:null}},data(){return{valid:!0,form:null}},computed:{...Object(n["e"])({user:e=>e.user.user}),rules:()=>o.a,label(){return this.item?"댓글 수정":0==this.wr_parent?"댓글 작성":"답글 달기"}},created(){this.initForm()},methods:{initForm(){if(this.user)if(this.item)this.form=Object(a["deepCopy"])(this.item);else{const e={wr_reply:this.wr_reply,wr_parent:this.wr_parent,user_id:this.user.user_id,wr_email:this.user.user_email,wr_name:this.user.user_name,wr_content:""};this.form=e}},async save(){if(this.$refs.form.validate(),await this.$nextTick(),!this.valid)return;let e;e=this.item?await this.$axios.put(`/api/board/write/${this.table}/${this.item.wr_id}`,this.form):await this.$axios.post("/api/board/write/"+this.table,this.form),e&&(this.item||this.$refs.textarea.blur(),this.$emit("onUpdate",e),this.initForm(),this.$refs.form.resetValidation(),this.$emit("onClose"))},resetValid(){this.$refs.form.resetValidation()}}},m=u,c=r("2877"),d=Object(c["a"])(m,i,s,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0c207f.b0ee97db.js.map