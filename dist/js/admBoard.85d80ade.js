(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admBoard","error"],{"385a":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return"list"===t.action?r("board-list"):"form"===t.action?r("board-form",{attrs:{table:t.table}}):r("error")},n=[],i=(r("ac1f"),r("1276"),r("466d"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-toolbar",{staticClass:"mt-2"},[r("v-toolbar-title",[t._v("게시판 관리")]),r("v-spacer"),r("tooltip-btn",{attrs:{label:"게시판 추가",icon:"",to:"/adm/board/form"}},[r("v-icon",[t._v("mdi-plus")])],1)],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,options:t.options,"server-items-length":t.totalItems,loading:t.loading},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.cmd",fn:function(e){var a=e.item;return[r("tooltip-btn",{attrs:{label:"Modify",icon:"",to:"/adm/board/form/"+a.brd_table}},[r("v-icon",[t._v("mdi-pencil")])],1)]}}])})],1)}),s=[],l=r("1da1"),o=(r("96cf"),r("ed2f")),c=r("64f2"),d=r("4328"),u=r.n(d),b={components:{TooltipBtn:o["a"]},name:"AdmBoardList",title:"게시판 관리",data:function(){return{headers:[{text:"테이블",value:"brd_table",sortable:!0},{text:"이름",value:"brd_subject",sortable:!0},{text:"스킨",value:"brd_skin",sortable:!0},{text:"목록",value:"brd_list_level",sortable:!1},{text:"읽기",value:"brd_read_level",sortable:!1},{text:"쓰기",value:"brd_write_level",sortable:!1},{text:"덧글",value:"brd_comment_level",sortable:!1},{text:"CMD",value:"cmd",sortable:!1}],items:[],options:{},totalItems:0,loading:!1}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},methods:{getDataFromApi:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,r=Object(c["deepCopy"])(t.options),a=u.a.stringify(r),e.next=5,t.$axios.get("/api/admin/board?".concat(a));case 5:n=e.sent,n&&(t.items=n.items,t.totalItems=n.totalItems),t.loading=!1;case 8:case"end":return e.stop()}}),e)})))()}}},m=b,f=r("2877"),v=Object(f["a"])(m,i,s,!1,null,null,null),_=v.exports,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-toolbar",{staticClass:"mt-2 mb-2"},[r("v-toolbar-title",[t._v(t._s(t.pageTitle))]),r("v-spacer"),r("v-btn",{attrs:{to:"/adm/board/list",color:"accent"}},[t._v("List")]),r("v-btn",{staticClass:"ml-2",attrs:{color:"primary"},on:{click:t.save}},[t._v(t._s(t.btnLabel))])],1),t.form?r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{label:"게시판 ID",counter:"30",readonly:!!t.table,rules:[t.rules.alphaNum(),t.rules.required({label:"게시판 ID"})]},model:{value:t.form.brd_table,callback:function(e){t.$set(t.form,"brd_table",e)},expression:"form.brd_table"}}),r("v-text-field",{attrs:{label:"게시판 제목",counter:"100",rules:[t.rules.required({label:"게시판 제목"})]},model:{value:t.form.brd_subject,callback:function(e){t.$set(t.form,"brd_subject",e)},expression:"form.brd_subject"}}),r("v-select",{attrs:{label:"게시판 스킨",items:t.skins},model:{value:t.form.brd_skin,callback:function(e){t.$set(t.form,"brd_skin",e)},expression:"form.brd_skin"}}),r("board-sort",{staticClass:"mb-4",attrs:{items:t.form.brd_sort}}),r("div",{staticClass:"d-flex"},[r("v-switch",{attrs:{label:"카테고리 사용",inset:""},model:{value:t.form.brd_use_category,callback:function(e){t.$set(t.form,"brd_use_category",e)},expression:"form.brd_use_category"}}),r("div",{staticClass:"ml-3",staticStyle:{flex:"1"}},[r("v-combobox",{attrs:{label:"카테고리",multiple:"",chips:"",disabled:!t.form.brd_use_category,dense:"","deletable-chips":"",clearable:"","append-icon":"",hint:"카테고리 입력 후 Enter로 구분 등록 하세요."},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.attrs,n=e.item,i=e.parent,s=e.selected;return[r("v-chip",t._b({attrs:{"input-value":s,label:"",small:""}},"v-chip",a,!1),[r("span",[t._v(t._s(n))]),r("v-icon",{attrs:{small:"",right:""},on:{click:function(t){return i.selectItem(n)}}},[t._v("mdi-close")])],1)]}}],null,!1,1391295223),model:{value:t.form.brd_category,callback:function(e){t.$set(t.form,"brd_category",e)},expression:"form.brd_category"}})],1)],1),r("board-slider",{attrs:{label:"목록 읽기 레벨"},model:{value:t.form.brd_list_level,callback:function(e){t.$set(t.form,"brd_list_level",e)},expression:"form.brd_list_level"}}),r("board-slider",{attrs:{label:"게시물 읽기 레벨"},model:{value:t.form.brd_read_level,callback:function(e){t.$set(t.form,"brd_read_level",e)},expression:"form.brd_read_level"}}),r("board-slider",{attrs:{label:"게시물 쓰기 레벨"},model:{value:t.form.brd_write_level,callback:function(e){t.$set(t.form,"brd_write_level",e)},expression:"form.brd_write_level"}}),r("board-slider",{attrs:{label:"답변글 쓰기 레벨"},model:{value:t.form.brd_reply_level,callback:function(e){t.$set(t.form,"brd_reply_level",e)},expression:"form.brd_reply_level"}}),r("board-slider",{attrs:{label:"댓글 쓰기 레벨"},model:{value:t.form.brd_comment_level,callback:function(e){t.$set(t.form,"brd_comment_level",e)},expression:"form.brd_comment_level"}}),r("board-slider",{attrs:{label:"파일 다운로드 레벨"},model:{value:t.form.brd_download_level,callback:function(e){t.$set(t.form,"brd_download_level",e)},expression:"form.brd_download_level"}}),r("div",{staticClass:"d-flex"},[r("v-slider",{attrs:{label:"파일 업로드 개수 : "+t.form.brd_upload_cnt,min:"0",max:"10","thumb-label":"",ticks:""},model:{value:t.form.brd_upload_cnt,callback:function(e){t.$set(t.form,"brd_upload_cnt",e)},expression:"form.brd_upload_cnt"}}),r("v-sheet",{staticClass:"ml-2",staticStyle:{background:"transparent"},attrs:{width:"200"}},[r("v-text-field",{attrs:{type:"number",label:"파일 업로드 용량",dense:"","hide-details":"",min:"1",max:"500",suffix:"MiB"},model:{value:t.form.brd_upload_size,callback:function(e){t.$set(t.form,"brd_upload_size",e)},expression:"form.brd_upload_size"}})],1)],1),r("v-expansion-panels",{attrs:{focusable:""}},[r("v-expansion-panel",[r("v-expansion-panel-header",[t._v(" 게시물 추가 필드 설정 ")]),r("v-expansion-panel-content",t._l(t.form.wr_fields,(function(e,a){return r("div",{key:a,staticClass:"d-flex"},[r("v-tooltip",{attrs:{top:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on,i=a.attrs;return[r("div",t._g(t._b({staticClass:"mt-2 mr-2"},"div",i,!1),n),[r("v-switch",{attrs:{dense:"",inset:""},model:{value:e.required,callback:function(r){t.$set(e,"required",r)},expression:"item.required"}})],1)]}}],null,!0)},[r("span",[t._v("필수 입력")])]),r("v-text-field",{attrs:{label:"추가 필드 "+(a+1),"hide-details":""},model:{value:e.title,callback:function(r){t.$set(e,"title",r)},expression:"item.title"}})],1)})),0)],1),r("v-expansion-panel",[r("v-expansion-panel-header",[t._v(" 게시판 여분 필드 ")]),r("v-expansion-panel-content",t._l(10,(function(e){return r("v-text-field",{key:e,attrs:{label:"여분 필드 "+e},model:{value:t.form["brd_"+e],callback:function(r){t.$set(t.form,"brd_"+e,r)},expression:"form[`brd_${i}`]"}})})),1)],1)],1)],1):t._e(),r("v-toolbar",{staticClass:"mt-4"},[r("v-btn",{attrs:{to:"/adm/board/list",color:"accent"}},[t._v("List")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:t.save}},[t._v(t._s(t.btnLabel))])],1)],1)},h=[],x=(r("99af"),r("bb5e")),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pt-4 mt-4 mb_n4",staticStyle:{position:"relative"}},[r("div",{staticClass:"text-subtitle1",staticStyle:{position:"absolute",left:"0",top:"-8px"}},[r("span",{staticClass:"grey--text"},[t._v(t._s(t.label))]),r("span",{staticClass:"text-body-2 ml-2"},[t._v(t._s(t.LV_LABEL(t.value))+" ("+t._s(t.value)+")")])]),r("v-slider",{attrs:{value:t.value,min:t.LV.BLOCK,max:t.LV.SUPER,ticks:"always","tick-size":"1","thumb-label":""},on:{input:function(e){return t.$emit("input",e)}}})],1)},w=[],k=(r("a9e3"),{name:"BoardSlider",model:{prop:"value",event:"input"},props:{value:Number,label:String},computed:{LV:function(){return x["LV"]},LV_LABEL:function(){return x["LV_LABEL"]}}}),y=k,$=Object(f["a"])(y,g,w,!1,null,null,null),C=$.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-subheader",[t._v("정렬 규칙 설정")]),r("draggable",t._b({staticClass:"menu-drag-container",attrs:{tag:"div",list:t.items,handle:".handle"}},"draggable",t.dragOptions,!1),[r("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.items,(function(e,a){return r("div",{key:e.by,staticClass:"item-group"},[r("div",[r("v-sheet",{staticClass:"item d-flex pa-4 pt-6",attrs:{outlined:"",rounded:"",elevation:"2"}},[r("div",{staticClass:"handle"},[r("v-icon",[t._v("mdi-drag")])],1),r("v-text-field",{staticClass:"ml-4",attrs:{label:"정렬규칙 "+(a+1),readonly:"",dense:"","hide-details":""},model:{value:e.by,callback:function(r){t.$set(e,"by",r)},expression:"item.by"}}),r("v-select",{staticClass:"ml-2",attrs:{label:"sort",items:t.descItems,dense:"","hide-details":""},model:{value:e.desc,callback:function(r){t.$set(e,"desc",r)},expression:"item.desc"}}),r("tooltip-btn",{attrs:{label:"규칙 제거",icon:""},on:{click:function(e){return t.removeItem(a)}}},[r("v-icon",[t._v("mdi-close")])],1)],1)],1)])})),0)],1),r("v-form",{ref:"form",staticClass:"d-flex mt-4 px-2",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.addItem.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-autocomplete",{attrs:{label:"정렬 규칙",items:t.wrItems,dense:"","prepend-icon":"mdi-sort",rules:[t.rules.required({label:"정렬규칙"})]},model:{value:t.form.by,callback:function(e){t.$set(t.form,"by",e)},expression:"form.by"}}),r("v-select",{staticClass:"ml-2",attrs:{label:"sort",items:t.descItems,dense:""},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}}),r("tooltip-btn",{attrs:{label:"정렬 규칙 추가",icon:"",type:"submit"}},[r("v-icon",[t._v("mdi-plus")])],1)],1),r("v-divider",{staticClass:"my-4"})],1)},L=[],j=r("b85c"),B=(r("4de4"),r("a434"),r("b76a")),S=r.n(B),E=r("248f"),T=r.n(E),A={components:{draggable:S.a,TooltipBtn:o["a"]},name:"BoardSort",props:{items:{type:Array,required:!0}},data:function(){return{valid:!0,form:{by:"",desc:0},descItems:[{text:"내림차순(DESC)",value:0},{text:"오름차순(ASC)",value:1}]}},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},wrItems:function(){var t,e=["wr_id","wr_reply","wr_grp","wr_order","wr_dep","wr_parent","user_id","wr_email","wr_name","wr_password","wr_category","wr_title","wr_content","wr_view","wr_ip","wr_create_at","wr_update_at","wr_1","wr_2","wr_3","wr_4","wr_5","wr_6","wr_7","wr_8","wr_9","wr_10"],r=[],a=Object(j["a"])(this.items);try{for(a.s();!(t=a.n()).done;){var n=t.value;r.push(n.by)}}catch(i){a.e(i)}finally{a.f()}return e.filter((function(t){return r.indexOf(t)<0}))},rules:function(){return T.a}},mounted:function(){this.initForm()},methods:{initForm:function(){this.form={by:"",desc:0}},addItem:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.form.validate(),e.next=3,t.$nextTick();case 3:if(t.valid){e.next=5;break}return e.abrupt("return");case 5:t.items.push(t.form),t.initForm(),t.$refs.form.resetValidation();case 8:case"end":return e.stop()}}),e)})))()},removeItem:function(t){this.items.splice(t,1)}}},D=A,I=Object(f["a"])(D,O,L,!1,null,null,null),R=I.exports,N={components:{BoardSlider:C,BoardSort:R},name:"AdmBoardForm",props:{table:String},title:function(){return this.pageTitle},data:function(){return{valid:!0,form:null,skins:[]}},computed:{pageTitle:function(){return this.table?"".concat(this.table," 게시판 수정"):"게시판 생성"},btnLabel:function(){return this.table?"Modify":"Create"},rules:function(){return T.a}},mounted:function(){this.init(),this.fetchSkinList()},methods:{init:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.table){e.next=10;break}return e.next=3,t.$axios.get("/api/admin/board/".concat(t.table));case 3:r=e.sent,r.brd_category=JSON.parse(r.brd_category),r.brd_sort=JSON.parse(r.brd_sort),r.wr_fields=JSON.parse(r.wr_fields),t.form=r,e.next=13;break;case 10:for(a={brd_table:"",brd_subject:"",brd_skin:"basic",brd_list_level:x["LV"].BLOCK,brd_read_level:x["LV"].BLOCK,brd_write_level:x["LV"].BLOCK,brd_reply_level:x["LV"].BLOCK,brd_comment_level:x["LV"].BLOCK,brd_download_level:x["LV"].BLOCK,brd_upload_cnt:2,brd_upload_size:2,brd_category:[],brd_use_category:0,brd_sort:[{by:"wr_grp",desc:0},{by:"wr_order",desc:1}],wr_fields:[]},n=1;n<=10;n++)a["brd_".concat(n)]="",a.wr_fields.push({title:"",required:0});t.form=a;case 13:case"end":return e.stop()}}),e)})))()},fetchSkinList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/api/admin/board/skinList");case 2:r=e.sent,t.skins=r;case 4:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.form.validate(),e.next=3,t.$nextTick();case 3:if(t.valid){e.next=5;break}return e.abrupt("return");case 5:if(r=!1,a="",!t.table){e.next=14;break}return e.next=10,t.$axios.put("/api/admin/board/".concat(t.table),t.form);case 10:r=e.sent,a="수정",e.next=18;break;case 14:return e.next=16,t.$axios.post("/api/admin/board",t.form);case 16:r=e.sent,a="생성";case 18:r&&(t.$toast.info("".concat(t.form.brd_subject," 게시판을 ").concat(a,"하였습니다.")),t.$router.push("/adm/board/list"));case 19:case"end":return e.stop()}}),e)})))()}}},V=N,F=Object(f["a"])(V,p,h,!1,null,null,null),q=F.exports,M=r("dda8"),G={components:{BoardList:_,BoardForm:q,Error:M["default"]},name:"AdmBoardRenderer",computed:{match:function(){return this.$route.params.pathMatch.split("/")},action:function(){return this.match[0]},table:function(){return this.match[1]||null}},mounted:function(){console.log(this.$route)}},z=G,K=Object(f["a"])(z,a,n,!1,null,null,null);e["default"]=K.exports},"4a09":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(t.curSkin,{tag:"component",attrs:{config:t.config,access:t.access,id:t.wr_id}})},n=[],i=r("1da1"),s=r("5530"),l=(r("96cf"),r("ac1f"),r("1276"),r("8103")),o=r.n(l),c=r("2f62"),d=(r("159b"),r("d3b7"),r("ddb0"),r("5319"),r("bba4")),u=r.n(d),b=r("d1c6"),m={};b.keys().forEach((function(t){var e=o()(u()(t.replace(/(\.\/|\.vue)/g,"")));m[e]=function(){return b(t)}}));var f=m,v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._v("Board Error")])},_=[],p={name:"BoardError"},h=p,x=r("2877"),g=Object(x["a"])(h,v,_,!1,null,null,null),w=g.exports,k={components:Object(s["a"])(Object(s["a"])({},f),{},{BoardError:w}),name:"Board",data:function(){return{config:null}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(c["e"])({initData:function(t){return t.initData}})),Object(c["c"])({GRANT:"user/GRANT"})),{},{pathMatch:function(){return this.$route.params.pathMatch.split("/")},table:function(){return this.pathMatch[0]},wr_id:function(){return this.pathMatch[1]},action:function(){return this.wr_id?this.$route.query.act||"read":this.$route.query.act||"list"},access:function(){return this.config?{list:this.GRANT>=this.config.brd_list_level,read:this.GRANT>=this.config.brd_read_level,write:this.GRANT>=this.config.brd_write_level,reply:this.GRANT>=this.config.brd_reply_level,comment:this.GRANT>=this.config.brd_comment_level,download:this.GRANT>=this.config.brd_download_level}:null},curSkin:function(){if(this.config){var t=o()(this.config.brd_skin);return"list"===this.action&&this.access.list?"".concat(t,"List"):this.access.write&&"write"===this.action||this.access.write&&"reply"===this.action?"".concat(t,"Form"):this.wr_id&&"read"===this.action&&this.access.read?"".concat(t,"Detail"):"BoardError"}return"BoardError"}}),watch:{table:function(){this.config=null,this.fetchConfig()}},mounted:function(){console.log("initData",this.initData)},syncData:function(){return this.initData&&this.initData.config?this.setConfig(this.initData.config):this.fetchConfig()},methods:Object(s["a"])(Object(s["a"])({},Object(c["d"])(["SET_INITDATA"])),{},{fetchConfig:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/api/board/config/".concat(t.table));case 2:r=e.sent,t.$ssrContext&&(console.log("SET_INITDATA",r.brd_table),t.SET_INITDATA({config:r})),t.setConfig(r);case 5:case"end":return e.stop()}}),e)})))()},setConfig:function(t){t&&(this.config=t)}})},y=k,$=Object(x["a"])(y,a,n,!1,null,null,null);e["default"]=$.exports},d1c6:function(t,e,r){var a={"./basic/Detail.vue":["bddc","chunk-2d21b137"],"./basic/Form.vue":["37fd","vendor","chunk-2d0bab18"],"./basic/List.vue":["0f91","chunk-221f0af4"],"./gallery/Detail.vue":["d646","chunk-2d21e74a"],"./gallery/Form.vue":["b3c2","chunk-2d20f8f6"],"./gallery/List.vue":["ca4c","chunk-2d221483"]};function n(t){if(!r.o(a,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=a[t],n=e[0];return Promise.all(e.slice(1).map(r.e)).then((function(){return r(n)}))}n.keys=function(){return Object.keys(a)},n.id="d1c6",t.exports=n},dda8:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._v(" 404 Not Found ")])},n=[],i={name:"Error",title:"에러페이지"},s=i,l=r("2877"),o=Object(l["a"])(s,a,n,!1,null,null,null);e["default"]=o.exports},ed2f:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[r("v-btn",t._g(t._b({class:t.childClass,attrs:{icon:""},on:{click:function(e){return t.$emit("click")}}},"v-btn",Object.assign({},t.$attrs,n),!1),a),[t._t("default")],2)]}}],null,!0)},[r("span",[t._v(t._s(t.label))])])},n=[],i={name:"TooltipBtn",props:{label:{type:String,required:!0},childClass:[String,Object]}},s=i,l=r("2877"),o=Object(l["a"])(s,a,n,!1,null,null,null);e["a"]=o.exports}}]);
//# sourceMappingURL=admBoard.85d80ade.js.map