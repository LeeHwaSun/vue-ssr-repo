(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5db15592"],{"2f90":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",t._b({model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},"v-dialog",t.$attrs,!1),[i("v-card",[i("v-toolbar",t._b({},"v-toolbar",t.$attrs,!1),[i("v-toolbar-title",[t._v(t._s(t.label))]),i("v-spacer"),i("v-btn",{attrs:{icon:""},on:{click:t.close}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("v-card-text",[t._t("default")],2)],1)],1)},n=[],o={name:"MyDialog",props:{label:{type:String,required:!0}},data:function(){return{dialog:!1}},methods:{open:function(){this.$emit("onOpen"),this.dialog=!0},close:function(){this.$emit("onClose"),this.dialog=!1}}},r=o,s=i("2877"),l=Object(s["a"])(r,a,n,!1,null,null,null);e["a"]=l.exports},"3dc5":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:""}},[i("v-toolbar",[i("v-toolbar-title",[t._v(t._s(t.pageTitle))]),1==t.config.brd_use_category?i("v-sheet",{staticClass:"ml-4",attrs:{width:"150",color:"transparent"}},[i("category-select",{attrs:{options:t.options},on:{"update:options":function(e){t.options=e}}})],1):t._e(),i("search-field",{staticClass:"ml-4",attrs:{items:t.searchItems,options:t.options},on:{"update:options":function(e){t.options=e}}}),i("v-spacer"),i("v-sheet",{staticClass:"mt-2 mr-2",attrs:{width:"60",color:"transparent"}},[i("v-select",{attrs:{items:t.pageItems,label:"목록 수","hide-details":"",dense:""},model:{value:t.options.itemsPerPage,callback:function(e){t.$set(t.options,"itemsPerPage",e)},expression:"options.itemsPerPage"}})],1),i("v-btn",{attrs:{to:"/board/"+t.table+"?act=write",color:"primary"}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add New Popup ")],1)],1),i("v-data-table",{staticClass:"fixedTable",attrs:{headers:t.headers,items:t.items,options:t.options,"server-items-length":t.totalItems,loading:t.loading,"hide-default-footer":""},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.no",fn:function(e){var i=e.index;return[t._v(" "+t._s(t.getNo(i))+" ")]}},{key:"item.wr_title",fn:function(e){var a=e.item;return[i("v-btn",{staticClass:"justify-start pa-0",attrs:{block:"",plain:""},on:{click:function(e){return t.popupView(a)}}},[t._v(" "+t._s(a.wr_title)+" ")])]}},{key:"item.wr_2",fn:function(e){var i=e.item;return[t._v(" "+t._s(t.$moment(i.wr_2).format("YYYY-MM-DD HH:mm"))+" ")]}},{key:"item.wr_3",fn:function(e){var i=e.item;return[t._v(" "+t._s(t.$moment(i.wr_3).format("YYYY-MM-DD HH:mm"))+" ")]}},{key:"item.wr_1",fn:function(e){var i=e.item;return[t._v(t._s(i.wr_1)+"일")]}},{key:"item.wr_4",fn:function(e){var a=e.item;return[i("div",{staticClass:"d-flex justify-center"},[i("v-checkbox",{attrs:{"true-value":"1","false-value":"0",readonly:""},model:{value:a.wr_4,callback:function(e){t.$set(a,"wr_4",e)},expression:"item.wr_4"}})],1)]}},{key:"item.cmd",fn:function(e){var a=e.item;return[i("tooltip-btn",{attrs:{label:"View",icon:"",color:"primary"},on:{click:function(e){return t.popupView(a)}}},[i("v-icon",[t._v("mdi-eye")])],1),i("tooltip-btn",{attrs:{label:"Modify",icon:"",color:"primary",to:"/board/"+t.table+"/"+a.wr_id+"?act=write"}},[i("v-icon",[t._v("mdi-pencil")])],1),t.isSuper?i("tooltip-btn",{attrs:{label:"Delete",icon:"",color:"red",loading:t.deleteLoading},on:{click:function(e){return t.deleteItem(a)}}},[i("v-icon",[t._v("mdi-delete")])],1):t._e()]}}])}),t.curItem?i("popup-view",{attrs:{item:t.curItem,table:t.table},on:{onClose:t.popupClose}}):t._e(),i("v-pagination",{staticClass:"mt-4",attrs:{length:t.pageCount},model:{value:t.options.page,callback:function(e){t.$set(t.options,"page",e)},expression:"options.page"}})],1)},n=[],o=i("1da1"),r=i("5530"),s=(i("96cf"),i("4de4"),i("a9e3"),i("99af"),i("4328")),l=i.n(s),c=i("2f62"),u=i("64f2"),p=i("fc1f"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("span",t._g(t._b({},"span",n,!1),a),[t._v(" "+t._s(t.display)+" ")])]}}])},[t._v(" "+t._s(t.formatTime)+" ")])},m=[],d={name:"DisplayTime",props:{time:{type:String,required:!0}},computed:{formatTime:function(){return this.$moment(this.time).format("LLL")},display:function(){var t=this.$moment(this.time),e=this.$moment(),i=e.diff(t,"days");return i>0?t.format("LL"):t.fromNow()}}},h=d,v=i("2877"),b=Object(v["a"])(h,f,m,!1,null,null,null),g=b.exports,_=i("ed2f"),x=i("9bc0"),w={components:{SearchField:p["a"],DisplayTime:g,TooltipBtn:_["a"],PopupView:x["a"]},name:"BasicList",props:{config:Object,access:Object},title:function(){return this.pageTitle},data:function(){return{loading:!1,options:{},pageReady:!1,pageRouting:!1,pageItems:[2,5,10,20,50,100],deleteLoading:!1,curItem:null}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(c["e"])({items:function(t){return t.board.list},totalItems:function(t){return t.board.totalItems}})),Object(c["c"])("user",["isSuper"])),{},{searchItems:function(){var t=this.headers.filter((function(t){return t.searchable}));return t},table:function(){return this.config.brd_table},pageTitle:function(){return this.config.brd_subject+" 관리자"},headers:function(){var t=[{text:"No",value:"no",align:"center",sortable:!1,searchable:!1,width:"90"},{text:"팝업 제목",value:"wr_title",align:"center",sortable:!1,searchable:!0,cellClass:"text-truncate"},{text:"시작일시",value:"wr_2",align:"center",sortable:!1,searchable:!0,width:"142"},{text:"종료일시",value:"wr_3",align:"center",sortable:!1,searchable:!0,width:"142"},{text:"시간",value:"wr_1",align:"center",sortable:!1,searchable:!1,width:"120"},{text:"top",value:"wr_6",align:"center",sortable:!1,searchable:!1,width:"60"},{text:"left",value:"wr_7",align:"center",sortable:!1,searchable:!1,width:"60"},{text:"width",value:"wr_8",align:"center",sortable:!1,searchable:!1,width:"60"},{text:"height",value:"wr_9",align:"center",sortable:!1,searchable:!1,width:"60"},{text:"사용여부",value:"wr_4",align:"center",sortable:!1,searchable:!1,width:"100"},{text:"CMD",value:"cmd",align:"center",sortable:!1,searchable:!1,width:"160"}];return t},pageCount:function(){return Math.ceil(this.totalItems/this.options.itemsPerPage)}}),watch:{options:{handler:function(){this.fetchData()},deep:!0},table:function(){this.fetchData()}},serverPrefetch:function(){return this.fetchData()},created:function(){this.options=this.initOptions()},mounted:function(){window.addEventListener("popstate",this.routeChange)},destroyed:function(){window.removeEventListener("popstate",this.routeChange),this.SET_LIST({items:[],totalItems:0})},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(c["d"])("board",["SET_LIST"])),Object(c["b"])("board",["getBoardList"])),{},{initOptions:function(){var t=this.$route.query,e={page:Number(t.page)||1,itemsPerPage:Number(t.itemsPerPage)||10,stf:[t.stf||"","wr_category"],stx:[t.stx||"",""],stc:[t.stc||"","eq"]};return e},pushState:function(){if(!this.pageRouting){var t={page:this.options.page,itemsPerPage:this.options.itemPerPage,stf:this.options.stf[0]||void 0,stx:this.options.stx[0]||void 0,stc:this.options.stc[0]||void 0,ca:this.options.stf[1]||void 0},e=l.a.stringify(t);this.pageReady?history.pushState(null,null,"".concat(this.$route.path,"?").concat(e)):history.replaceState(null,null,"".concat(this.$route.path,"?").concat(e))}},getPayload:function(){var t=Object(u["deepCopy"])(this.options);return t.stf.push("wr_reply"),t.stc.push("eq"),t.stx.push("0"),t},routeChange:function(){this.pageRouting=!0,this.options=this.initOptions()},fetchData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.getPayload(),a=l.a.stringify(i),n={},t.$ssrContext&&(n.token=t.$ssrContext.token),e.next=6,t.getBoardList({vm:t,query:a,headers:n});case 6:case"end":return e.stop()}}),e)})))()},getNo:function(t){var e=this.options,i=e.page,a=e.itemsPerPage,n=this.totalItems;return n-(i-1)*a-t},deleteItem:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var a,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.deleteLoading=!0,i.next=3,e.$myNotify.confirm("".concat(t.wr_title,"을(를) 삭제하시겠습니까?"),"팝업 삭제",{icon:"mdi-alert"});case 3:if(a=i.sent,!a){i.next=9;break}return i.next=7,e.$axios.delete("/api/board/".concat(e.table,"/").concat(t.wr_id));case 7:n=i.sent,n&&(e.$toast.info("".concat(t.wr_title," 팝업이 삭제되었습니다.")),e.fetchData());case 9:e.deleteLoading=!1;case 10:case"end":return i.stop()}}),i)})))()},popupView:function(t){this.curItem=t},popupClose:function(){this.curItem=null}})},y=w,k=Object(v["a"])(y,a,n,!1,null,null,null);e["default"]=k.exports},fc1f:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("tooltip-btn",{attrs:{label:t.searchLabel,icon:"",small:""},on:{click:t.open}},[i("v-icon",[t._v("mdi-magnify")])],1),t.options.stf[0]?i("tooltip-btn",{attrs:{type:"button",label:"검색 초기화",icon:"",color:"error",small:""},on:{click:t.reset}},[i("v-icon",[t._v("mdi-magnify-close")])],1):t._e(),i("my-dialog",{ref:"dialog",attrs:{label:t.label,width:"300"}},[i("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.searchGo.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-select",{attrs:{label:"검색 필드",items:t.items,rules:[t.rules.required({label:"검색 필드"})]},model:{value:t.form.stf,callback:function(e){t.$set(t.form,"stf",e)},expression:"form.stf"}}),i("v-select",{attrs:{label:"비교방식",items:t.compItems},model:{value:t.form.stc,callback:function(e){t.$set(t.form,"stc",e)},expression:"form.stc"}}),i("v-text-field",{attrs:{label:"검색어",rules:[t.rules.required({label:"검색어"})],disabled:t.isNullComp},model:{value:t.form.stx,callback:function(e){t.$set(t.form,"stx",e)},expression:"form.stx"}}),i("div",{staticClass:"d-flex"},[i("tooltip-btn",{attrs:{type:"button",label:"Reset",icon:"",color:"error"},on:{click:t.reset}},[i("v-icon",[t._v("mdi-magnify-close")])],1),i("v-spacer"),i("tooltip-btn",{attrs:{type:"submit",label:"Search",icon:"",color:"primary"}},[i("v-icon",[t._v("mdi-magnify")])],1)],1)],1)],1)],1)},n=[],o=i("5530"),r=i("1da1"),s=(i("96cf"),i("7db0"),i("99af"),i("a434"),i("ed2f")),l=i("2f90"),c=i("248f"),u=i.n(c),p={components:{TooltipBtn:s["a"],MyDialog:l["a"]},name:"SearchField",props:{label:{type:String,default:"Search"},items:{type:Array,requird:!0},options:{type:Object,required:!0}},data:function(){return{valid:!0,form:{stf:"",stx:"",stc:""},compItems:[{text:"포함",value:"like"},{text:"작은",value:"lt"},{text:"작거나 같은",value:"lte"},{text:"같은",value:"eq"},{text:"크거나 같은",value:"gte"},{text:"큰",value:"gt"},{text:"같지 않은",value:"ne"},{text:"NULL",value:"null"},{text:"NOT NULL",value:"not"}],tempText:""}},computed:{rules:function(){return u.a},searchLabel:function(){var t=this,e=this.items.find((function(e){return e.value==t.options.stf}));return e?"".concat(e.text," : ").concat(this.options.stx):this.label},isNullComp:function(){return"null"==this.form.stc||"not"==this.form.stc?(this.tempText||(this.tempText=this.form.stx,this.form.stx="Null"),!0):(this.tempText&&(this.form.stx=this.tempText,this.tempText=""),!1)}},methods:{open:function(){this.form.stf=this.options.stf[0]||this.items[0].value,this.form.stc=this.options.stc[0]||"like",this.form.stx=this.options.stx[0],this.$refs.form&&this.$refs.form.resetValidation(),this.$refs.dialog.open()},searchGo:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.form.validate(),e.next=3,t.$nextTick();case 3:if(t.valid){e.next=5;break}return e.abrupt("return");case 5:i=Object(o["a"])(Object(o["a"])({},t.options),{},{page:1}),i.stf.splice(0,1,t.form.stf),i.stc.splice(0,1,t.form.stc),i.stx.splice(0,1,t.form.stx),t.$emit("update:options",i),t.$refs.dialog.close();case 11:case"end":return e.stop()}}),e)})))()},reset:function(){var t=Object(o["a"])(Object(o["a"])({},this.options),{},{page:1});t.stf.splice(0,1,""),t.stc.splice(0,1,""),t.stx.splice(0,1,""),this.$emit("update:options",t),this.$refs.dialog.close()}}},f=p,m=i("2877"),d=Object(m["a"])(f,a,n,!1,null,null,null);e["a"]=d.exports}}]);
//# sourceMappingURL=chunk-5db15592.ddc7d6cd.js.map